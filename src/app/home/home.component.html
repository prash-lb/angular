<div class="mt-12 mb-8">
  <div class="max-w-xl mx-auto relative">
    <p class="text-center text-xl text-gray-700 font-semibold mb-4">
      Recherchez une destination, un trajet, un numéro de train...
    </p>

    <div class="relative">
      <label
        for="choix-ville"
        class="block text-sm font-medium text-gray-700 sr-only"
        >Destination</label
      >

      <input
        [(ngModel)]="searchText"
        name="test"
        (keyup)="autoComplete(searchText)"
        id="choix-ville"
        type="text"
        placeholder="Où souhaitez-vous aller ?"
        class="w-full py-4 pl-12 pr-4 text-gray-900 border-2 border-blue-600 rounded-xl focus:ring-blue-600 focus:border-blue-600 shadow-xl placeholder-gray-500 text-xl transition duration-200 ease-in-out hover:border-blue-500"
        autocomplete="off"
      />

      <svg
        class="absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-blue-500"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 20 20"
        fill="currentColor"
      >
        <path
          fill-rule="evenodd"
          d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.39l3.473 3.472a1 1 0 01-1.414 1.414l-3.472-3.473A7 7 0 012 9z"
          clip-rule="evenodd"
        />
      </svg>
    </div>

    @if (autoCompleteVille().length > 0) {
    <div
      class="absolute z-10 mt-2 w-full bg-white rounded-lg shadow-2xl border border-gray-200 overflow-hidden"
    >
      @for (ville of autoCompleteVille() ; track $index) {
      <button
        (click)="selectSuggestion(ville)"
        class="block w-full text-left px-4 py-3 text-lg text-gray-800 hover:bg-blue-50 focus:outline-none focus:bg-blue-100 transition duration-150 ease-in-out"
      >
        <div class="font-semibold">{{ ville.name }}</div>
        <div class="text-sm text-gray-500">{{ ville.name }}</div>
      </button>
      }
    </div>
    }
  </div>
</div>
